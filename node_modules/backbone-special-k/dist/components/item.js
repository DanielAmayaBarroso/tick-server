!function(){Backbone.ItemView=Backbone.View.extend({tagName:"tr",renderData:null,modalView:null,messages:{removeError:"Ha sucedido un error al eliminar esta entrada.",confirmRemove:"Seguro que quieres eliminar esta entrada?"},events:{},_events:{"click .btn-edit":"editItem","click .btn-remove":"removeItem"},constructor:function(){var e=this;_.forOwn(this._events,function(t,i){e.events[i]=t}),Backbone.View.apply(this,arguments)},initialize:function(e){this.model||(this.model=new this.Model),this.listenTo(this.model,"remove",this.destroy),this.listenTo(this.model,"change",this.render),this.init&&this.init(e)},render:function(){return this.renderData=this.model.toJSON(),this.beforeRender&&this.beforeRender(),this.$el.html(this.template(this.renderData)),this.onRender&&this.onRender(),Backbone.InlineEdit(this),Backbone.Bindings(this),this},destroy:function(){var e=this;this.$el.hide("fast",function(){e.unbind(),e.remove()})},removeItem:function(e){e=e||{};var t=this,i=function(){t.model.destroy({success:function(){t.destroy()},error:function(){SpecialK.alert(t.messages.removeError)}})};e.ctrlKey?i():SpecialK.confirm(this.messages.confirmRemove,function(e){e&&i()})},editItem:function(){if(this.modalView){var e=new this.modalView({model:this.model});e.render()}}})}();